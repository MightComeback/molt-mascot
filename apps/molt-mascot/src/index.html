<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; connect-src ws: wss:; img-src 'self'; object-src 'none'; frame-src 'none'; base-uri 'none'; form-action 'self'; font-src 'none'; media-src 'none'; worker-src 'none';" />
    <title>Molt Mascot</title>
    <link rel="stylesheet" href="./renderer.css" />
  </head>
  <body>
    <div id="wrap">
      <div id="hud" role="region" aria-label="Status display"><span id="pill" role="status" aria-live="polite" tabindex="0" title="Status">Initializing...</span></div>
      <canvas id="c" width="96" height="96" role="img" aria-label="Molt Mascot pixel lobster" aria-roledescription="mascot widget" tabindex="0"></canvas>
      <form id="setup" hidden aria-label="Gateway connection settings">
        <div><b>Connect to OpenClaw Gateway</b> <span id="setup-version"></span></div>
        <label for="url" class="sr-only">Gateway URL</label>
        <input id="url" placeholder="ws://127.0.0.1:18789" aria-label="Gateway WebSocket URL" aria-describedby="setup-hint" spellcheck="false" autocomplete="off" autocapitalize="off" autocorrect="off" inputmode="url" required autofocus />
        <label for="token" class="sr-only">Auth token</label>
        <input type="password" id="token" placeholder="token (optional)" aria-label="Gateway auth token" aria-describedby="setup-hint" spellcheck="false" autocomplete="off" autocapitalize="off" autocorrect="off" />
        <div class="button-row">
          <button id="save" type="submit">Save + connect</button>
          <button id="cancel" type="button">Cancel</button>
        </div>
        <small id="setup-hint" role="note">
          Tip: if your Gateway requires a token, set <code>gateway.auth.token</code> in OpenClaw config
          (or start with <code>--token</code>), then paste it here.
          Press <kbd>Esc</kbd> to dismiss and reconnect with saved credentials.
        </small>
      </form>
    </div>
    <noscript>
      <p class="noscript-msg">Molt Mascot requires JavaScript to run.</p>
    </noscript>
    <script type="module" src="./renderer.js"></script>
  </body>
</html>
